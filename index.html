<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Huerta Escolar Automatizada</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: #f0f4f8;
      color: #333;
      margin: 0;
    }
    header {
      background: linear-gradient(135deg, #2e7d32, #66bb6a);
      color: white;
      padding: 40px 20px;
      text-align: center;
      border-bottom-left-radius: 50% 10%;
      border-bottom-right-radius: 50% 10%;
    }
    nav {
      position: sticky;
      top: 0;
      background: #1b5e20;
      padding: 12px;
      text-align: center;
    }
    nav a {
      color: white;
      text-decoration: none;
      margin: 0 15px;
      font-weight: bold;
      transition: color 0.3s, transform 0.2s;
    }
    nav a:hover {
      color: #a5d6a7;
      transform: scale(1.1);
    }
    section {
      max-width: 900px;
      margin: 30px auto;
      padding: 25px;
      background: white;
      border-radius: 15px;
      box-shadow: 0px 4px 20px rgba(0,0,0,0.1);
    }
    h2 {
      color: #2e7d32;
      margin-bottom: 15px;
    }
    ul {
      line-height: 1.8;
    }
    .roles {
      display: flex;
      justify-content: space-between;
    }
    .roles div {
      width: 45%;
      background: #e8f5e9;
      padding: 10px;
      border-radius: 8px;
    }
    canvas {
      margin: 20px auto;
      display: block;
      max-width: 100%;
    }
    footer {
      text-align: center;
      padding: 20px;
      margin-top: 40px;
      background: #2e7d32;
      color: white;
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
    }
  </style>
</head>
<body>
  <!-- 🔹 Encabezado -->
  <header>
    <h1>🌱 Huerta Escolar Automatizada</h1>
    <p>Proyecto académico - GitHub Pages</p>
  </header>

  <!-- 🔹 Menú -->
  <nav>
    <a href="#integrantes">Integrantes</a>
    <a href="#justificacion">Justificación</a>
    <a href="#sensores">Sensores</a>
    <a href="#app">App</a>
    <a href="#diagrama">Diagrama</a>
    <a href="#explicacion">Explicación</a>
    <a href="#comunicacion">Comunicación</a>
    <a href="#hoja3">Hoja 3</a>
    <a href="#graficas">Gráficas</a>
  </nav>

  <!-- 🔹 Secciones -->
  <section id="integrantes">
    <h2>👥 Integrantes y Roles</h2>
    <div class="roles">
      <div><strong>Líder Técnico:</strong> Marlon Marin</div>
      <div><strong>Líder Documental:</strong> Marlon Marin</div>
    </div>
  </section>

  <section id="justificacion">
    <h2>🎯 Justificación</h2>
    <p>
      La <strong>huerta escolar automatizada</strong> busca fomentar la alimentación saludable y el aprendizaje práctico de tecnologías.  
      Mediante sensores se podrá monitorear la humedad del suelo, la luz solar y la temperatura, garantizando mejores condiciones para el crecimiento de las plantas.
    </p>
  </section>

  <section id="sensores">
    <h2>🔧 Posibles Sensores</h2>
    <ul>
      <li><b>Humedad del suelo:</b> mide el nivel de humedad para saber cuándo regar.</li>
      <li><b>DHT11/DHT22:</b> temperatura y humedad ambiental.</li>
      <li><b>LDR o BH1750:</b> intensidad de luz solar.</li>
    </ul>
  </section>

  <section id="app">
    <h2>📲 App</h2>
    <p>
      👉 <a href="https://github.com/marlonstiven/hurta-marlon/raw/refs/heads/main/huertaApp.apk" download>Descargar APK</a><br>
      👉 <a href="https://github.com/marlonstiven/hurta-marlon/raw/refs/heads/main/huertaApp%20(1).aia" download>Descargar AIA</a>
    </p>
  </section>

  <section id="diagrama">
    <h2>📊 Diagrama</h2>
    <img src="diagrama.png" alt="Diagrama del sistema" style="max-width:80%; display:block; margin:auto;">
  </section>

  <section id="explicacion">
    <h2>⚙️ Explicación Técnica</h2>
    <ul>
      <li>Los sensores recogen datos en tiempo real.</li>
      <li>El <b>ESP32</b> procesa la información y activa el riego automático.</li>
      <li>Los datos se envían a la <b>app</b> mediante Bluetooth.</li>
      <li>El usuario puede visualizar y controlar el riego.</li>
    </ul>
  </section>

  <section id="comunicacion">
    <h2>🔗 Comunicación</h2>
    <p><b>Bluetooth:</b> conexión rápida, sin Internet y bajo consumo.</p>
    <p><b>App Inventor:</b> fácil de usar, con integración Bluetooth.</p>
  </section>

  <section id="hoja3">
    <h2>📅 Hoja de Trabajo 3 – Semana 3</h2>
    <h3>⚙️ Configuración inicial y pruebas</h3>
    <h4>📸 Evidencia</h4>
    <img src="conexion.png" alt="Conexión en protoboard" style="max-width:80%; display:block; margin:auto;">
    <h4>📊 Lecturas</h4>
    <img src="lecturas.png" alt="Lecturas en monitor serial" style="max-width:80%; display:block; margin:auto;">
    <table border="1" style="margin:20px auto; width:80%; text-align:center; border-collapse:collapse;">
      <tr style="background:#e8f5e9; font-weight:bold;">
        <td>Fecha</td><td>Sensor</td><td>Lectura</td><td>Observaciones</td>
      </tr>
      <tr><td>17/09/2025</td><td>Humedad suelo</td><td>650</td><td>Tierra húmeda</td></tr>
      <tr><td>17/09/2025</td><td>Humedad suelo</td><td>300</td><td>Tierra seca</td></tr>
    </table>
  </section>

  <!-- 🔹 Gráficas -->
  <section id="graficas">
    <h2>📈 Gráficas de Lecturas en Tiempo Real</h2>
    <canvas id="graficoHumedad"></canvas>
    <canvas id="graficoTempHum"></canvas>
    <canvas id="graficoLuz"></canvas>
  </section>

  <!-- 🔹 Footer -->
  <footer>
    🌍 Proyecto académico - Huerta Automatizada | GitHub Pages | 2025
  </footer>

  <script>
    // Función hora
    function getHora() {
      const ahora = new Date();
      return ahora.getHours() + ":" + String(ahora.getMinutes()).padStart(2, "0");
    }

    // --- Gráfico Humedad del Suelo ---
    const graficoHumedad = new Chart(document.getElementById('graficoHumedad'), {
      type: 'line',
      data: {
        labels: [getHora()],
        datasets: [{
          label: 'Humedad del Suelo',
          data: [Math.floor(Math.random() * 300 + 400)],
          borderColor: '#2e7d32',
          backgroundColor: 'rgba(46,125,50,0.2)',
